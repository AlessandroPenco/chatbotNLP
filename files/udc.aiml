<?xml version="1.0" encoding="UTF-8"?>

<!-->

# add other maps and sets for retrive employees with only name, only surname, only role
# the single retrive go with code only -> ok
# complete the retrive all
# complete the add?

in report add the "try using the card..." part

</!-->

<aiml>
    <category>
        <pattern>
            links
        </pattern>
        <template>
            <button>
                <text>aulaweb</text>
                <url>https://2022.aulaweb.unige.it/my/</url>
            </button>
            <button>
                <text>overleaf</text>
                <url>https://www.overleaf.com/project/6385ddb977c6f7bdd63aa9ec</url>
            </button>
            <button>
                <text>pandorabots docs</text>
                <url>https://pandorabots.com/docs/building-bots/tutorial/</url>
            </button>  
            <button>
                <text>pandorabots yt</text>
                <url>https://www.youtube.com/@schOOlsin/</url>
            </button>
        </template>
    </category>

# start mismatching
    <category>
        <pattern>*</pattern>
        <template>
            <condition name = "login">
                <li value = "try">
                    I do not recognize the code.
                    <think><set name = "login">notry</set></think>
                </li>
                <li value = "notry">
                    <random>
                        <li>What was that?</li>
                        <li>I donâ€™t understand</li>
                        <li>Can you say that more clearly?</li>
                    </random>
                </li>
            </condition>
            
        </template>
    </category>
# end mismatching  

# start who are you
  <category>
    <pattern>WHO ARE YOU</pattern>
    <template>I am a bot.<br/> I live in a computer.</template>
  </category>
# end who are you 

# start HELP
    <category>
        <pattern>HELP</pattern>
        <template>Here's my functionalities:<br/>
        <button>
            <text>Retrive an employee information</text>
            <postback>1info</postback>
        </button>
        <button>
            <text>Retrive information about all employees</text>
            <postback>Ninfo</postback>
        </button>
        <condition name = "auth">
            <li value="ok">
            <button>
                <text>Create employee</text>
                <postback>Cinfo</postback>
            </button>
            <button>
                <text>Remove employee</text>
                <postback>Rinfo</postback>
            </button>
            <button>
                <text>Logout</text>
                <postback>LOGOUT</postback>
            </button>
            </li>
            <li value="ko">
                <button>
                    <text>Login to more functionalities</text>
                    <postback>LOGIN</postback>
                </button>
            </li>
        </condition>
        </template>
    </category>
# end HELP

<category><pattern>FUNCTIONALITIES</pattern><template><srai>HELP</srai></template></category>
<category><pattern>WHAT CAN YOU DO</pattern><template><srai>HELP</srai></template></category>
<category><pattern>WHAT CAN I ASK TO YOU</pattern><template><srai>HELP</srai></template></category>


# ausiliary category to display help message
  <category>
      <pattern>HH</pattern>
      <template>
         If you whant to know what i can do type or click help. 
        <button>
            <text>Help</text>
            <postback>HELP</postback>
        </button>
        <button>
            <text>Login</text>
            <postback>LOGIN</postback>
        </button>
    </template>
  </category>
  
  
# start greetings
  <category>
    <pattern>HELLO ^</pattern>
    <template>
        <think><set name = "auth">ko</set></think>
        <random>
            <li>Hello my friend. <srai>HH</srai></li>
            <li>Hi! <srai>HH</srai></li>
            <li>Nice to see you! <srai>HH</srai></li>
        </random>
    </template>
  </category>

<category><pattern>HI ^</pattern><template><srai>HELLO ^</srai></template></category>
<category><pattern>GOODMORNING ^</pattern><template><srai>HELLO ^</srai></template></category>
# end greetings

# start 1info
    <category>
      <pattern>1info</pattern>
      <template>Insert the number of the employee that you want to retrieve</template>
    </category>
    
    <category>
        <pattern><set>number</set></pattern>
        <that>Insert the number of the employee that you want to retrieve</that>
        <template>
          <b>Name:</b> <map name="number2name"><star/></map>
          <br/>
          <b>Role:</b> <map name="name2role"><map name="number2name"><star/></map></map>
          <br/>
          <b>Date of recruitment:</b> <map name="number2date"><map name="seq2number"><get name = "count"></get></map></map>
        </template>
    </category>
    
    <category>
      <pattern>*</pattern>
      <that>Insert the number of the employee that you want to retrieve</that>
      <template>
          I can not retrive any employee.
      </template>
    </category>
# end 1info
  
  
# start Ninfo

    <category>
      <pattern>Ninfo</pattern>
        <template>
        <think ><set name="count">0</set></think>
        <condition name = "count">
            <li>
                <value><bot name = "n_employees" /></value>
            </li>
            <li>
                <b>Name:</b><map name="number2name"><map name="seq2number"><get name = "count"></get></map></map>
                <br/>
                <b>Role:</b><map name="name2role"><map name="number2name"><map name="seq2number"><get name = "count"></get></map></map></map>
                <!--
                <card> card do not work
                    <image></image>
                    <title></title>
                    <subtitle></subtitle>
                    <button>
                        <text></text>
                        <postback></postback>
                    </button>
                </card>
                -->
                <br/>
                <b>Date of recruitment:</b> <map name="number2date"><map name="seq2number"><get name = "count"></get></map></map>
                <think>
                    <set name="count"><map><name>successor</name><get name="count"></get></map></set>
                </think>
                <split/>
            <loop/>
            </li>
        </condition>
        </template>
    </category>

# end Ninfo

<category>
    <pattern>LOGIN</pattern>
    <template>
        <think><set name = "login">try</set></think>
        Enter THE secret code: 
    </template>
</category>

<category><pattern>LOGIN TO MORE FUNCTIONALITIES</pattern><template><srai>LOGIN</srai></template></category>


<category>
    <pattern>123456</pattern>
    <template>
        <condition name = "login">
            <li value = "try">
                <think><set name = "auth">ok</set></think>
                Welcome <bot name = "HRMan_123456" />
                <think><set name = "login">notry</set></think>
            </li>
            <li value = "notry">
                <srai>*</srai>
            </li>
        </condition>
    </template>
</category>


#start logout
<category>
    <pattern>LOGOUT</pattern>
    <template>
        <think><set name = "auth">ko</set></think>
        Successfully logged out!
    </template>
</category>
#end logout

# start exit
<category>
    <pattern>EXIT</pattern>
    <template>
        Ok, I will leave you alone <get name="name" />. <br/>Say something and I will be back
        <think><set name = "auth">ko</set></think>
        <think><set name = "login">notry</set></think>
        <think><set name = "name">utente</set></think>
    </template>
</category>

<category><pattern>I WANNA LEAVE</pattern><template><srai>EXIT</srai></template></category>
<category><pattern>BYE</pattern><template><srai>EXIT</srai></template></category>
<category><pattern>BYE BYE</pattern><template><srai>EXIT</srai></template></category>
<category><pattern>SEE YOU</pattern><template><srai>EXIT</srai></template></category>
# end exit

</aiml>